enum Role {
  CUSTOMER // 소비자 (B2C)
  WHOLESALER // 도매자 (B2B)
  ADMIN // 관리자
}

model User {
  id       String @id @default(uuid())
  role     Role   @default(CUSTOMER)
  email    String @unique
  password String
  name     String
  phone    String

  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  deletedAt   DateTime?
  lastLoginAt DateTime?

  // Relations
  point             Point?
  businessInfo      BusinessInfo?
  orders            Order[]
  coupons           UserCoupon[]
  shippingAddresses ShippingAddress[]
}

model BusinessInfo {
  userId         String  @id
  businessNumber String  @unique
  businessName   String
  imageUrl       String?
  verified       Boolean @default(false)

  createdAt  DateTime  @default(now())
  verifiedAt DateTime?

  // Relations 
  user User @relation(fields: [userId], references: [id])
}

model ShippingAddress {
  id            String  @id @default(uuid())
  userId        String
  recipientName String
  phone         String
  zipCode       String
  address       String
  addressDetail String
  default       Boolean @default(false)

  createdAt DateTime @default(now())

  // Relations
  user User @relation(fields: [userId], references: [id])
}
